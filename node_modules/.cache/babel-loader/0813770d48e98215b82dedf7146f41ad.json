{"ast":null,"code":"import ThingDetail from './ThingDetail.vue';\nimport { getThings } from '../api/';\nexport default {\n  components: {\n    ThingDetail\n  },\n  name: \"ThingList\",\n\n  data() {\n    return {\n      things: [],\n      flagged: [],\n      selectedId: null\n    };\n  },\n\n  mounted() {\n    this.fetchList();\n  },\n\n  computed: {\n    hasThings() {\n      return this.things.length > 0;\n    }\n\n  },\n  methods: {\n    removeThing(index) {\n      // mutates the state and removes the thing\n      this.things.splice(index, 1);\n    },\n\n    flagThing(id) {\n      if (this.isFlagged(id)) {\n        this.flagged = this.flagged.filter(i => i !== id);\n      } else {\n        this.flagged.push(id);\n      }\n    },\n\n    isFlagged(id) {\n      return this.flagged.includes(id);\n    },\n\n    selectThing(id) {\n      this.selectedId = this.isSelected(id) ? null : id;\n    },\n\n    isSelected(id) {\n      return this.selectedId === id;\n    },\n\n    async fetchList() {\n      this.things = await getThings();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmCA,OAAOA,WAAP,MAAwB,mBAAxB;AACA,SAASC,SAAT,QAA0B,SAA1B;AAEA,eAAe;AAEdC,YAAU,EAAE;AAAEF;AAAF,GAFE;AAGXG,MAAI,EAAE,WAHK;;AAIXC,MAAI,GAAG;AACH,WAAO;AACHC,YAAM,EAAE,EADL;AAEHC,aAAO,EAAE,EAFN;AAGHC,gBAAU,EAAE;AAHT,KAAP;AAKH,GAVU;;AAWXC,SAAO,GAAG;AACN,SAAKC,SAAL;AACH,GAbU;;AAcXC,UAAQ,EAAE;AACNC,aAAS,GAAG;AACR,aAAO,KAAKN,MAAL,CAAYO,MAAZ,GAAqB,CAA5B;AACJ;;AAHM,GAdC;AAmBXC,SAAO,EAAE;AACLC,eAAW,CAACC,KAAD,EAAQ;AACf;AACA,WAAKV,MAAL,CAAYW,MAAZ,CAAmBD,KAAnB,EAA0B,CAA1B;AACH,KAJI;;AAKLE,aAAS,CAACC,EAAD,EAAK;AACV,UAAI,KAAKC,SAAL,CAAeD,EAAf,CAAJ,EAAwB;AACpB,aAAKZ,OAAL,GAAe,KAAKA,OAAL,CAAac,MAAb,CAAqBC,KAAKA,MAAMH,EAAhC,CAAf;AACJ,OAFA,MAEO;AACH,aAAKZ,OAAL,CAAagB,IAAb,CAAkBJ,EAAlB;AACJ;AACH,KAXI;;AAYLC,aAAS,CAACD,EAAD,EAAK;AACV,aAAO,KAAKZ,OAAL,CAAaiB,QAAb,CAAsBL,EAAtB,CAAP;AACH,KAdI;;AAeLM,eAAW,CAACN,EAAD,EAAK;AACZ,WAAKX,UAAL,GAAkB,KAAKkB,UAAL,CAAgBP,EAAhB,IAAsB,IAAtB,GAA6BA,EAA/C;AACH,KAjBI;;AAkBLO,cAAU,CAACP,EAAD,EAAK;AACX,aAAO,KAAKX,UAAL,KAAoBW,EAA3B;AACH,KApBI;;AAqBL,UAAMT,SAAN,GAAkB;AACd,WAAKJ,MAAL,GAAc,MAAMJ,SAAS,EAA7B;AACJ;;AAvBK;AAnBE,CAAf","names":["ThingDetail","getThings","components","name","data","things","flagged","selectedId","mounted","fetchList","computed","hasThings","length","methods","removeThing","index","splice","flagThing","id","isFlagged","filter","i","push","includes","selectThing","isSelected"],"sourceRoot":"","sources":["/Users/mhlengi.nkosi/sup-grads22-vue/src/components/ThingList.vue"],"sourcesContent":["<template>\n    <base-card>\n        <div class=\"thing-list\">\n            <button @click=\"fetchList\">Refresh</button>\n            <div v-if=\"hasThings\">\n                <div \n                    v-for=\"(thing, index) in things\" \n                    :key=\"index\"\n                    class=\"thing-list-item\"\n                    :class=\"{'item-flagged' : isFlagged(thing.id)}\"\n                    @click=\"selectThing(thing.id)\"\n                >\n                    <p>{{ thing.name }}</p>\n                    <div>\n                        <!-- can use v-on:click or @click -->\n                        <!-- .stop modifier to stop event bubbling -->\n                        <button @click.stop=\"removeThing(index)\">Remove</button>\n                        <button @click.stop=\"flagThing(thing.id)\">\n                            {{ isFlagged(thing.id) ? 'Unflag' : 'Flag' }}\n                        </button>\n                        <thing-detail \n                            v-if=\"isSelected(thing.id)\"\n                            :thing=\"thing\n                        \"></thing-detail>\n                    </div>\n                </div>\n            </div>\n            <div v-else class=\"thing-list-item\">\n                <p>There are no things.</p>\n            </div>\n        </div>\n    </base-card>\n</template>\n\n<script>\nimport ThingDetail from './ThingDetail.vue'\nimport { getThings } from '../api/'\n\nexport default {\n    \n\tcomponents: { ThingDetail },\n    name: \"ThingList\",\n    data() {\n        return {\n            things: [],\n            flagged: [],\n            selectedId: null\n        }\n    },\n    mounted() {\n        this.fetchList()\n    },\n    computed: {\n        hasThings() {\n            return this.things.length > 0\n        }\n    },\n    methods: {\n        removeThing(index) {\n            // mutates the state and removes the thing\n            this.things.splice(index, 1)\n        },\n        flagThing(id) {\n            if (this.isFlagged(id)) {\n                this.flagged = this.flagged.filter( i => i !== id)\n            } else {\n                this.flagged.push(id)\n            }\n        },\n        isFlagged(id) {\n            return this.flagged.includes(id)\n        },\n        selectThing(id) {\n            this.selectedId = this.isSelected(id) ? null : id\n        },\n        isSelected(id) {\n            return this.selectedId === id\n        },\n        async fetchList() {\n            this.things = await getThings()\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .thing-list {\n        button {\n            min-width: 96px;\n            border-radius: 0px;\n            border: 1px solid darkgray;\n            outline: none;\n\n            &:hover {\n                background-color: white;\n            }\n        }\n\n        display: flex;\n        flex-direction: column;\n        max-width: 512px;\n        border: 1px solid black;\n        background-color: rgb(24, 24, 24);\n        color: #fff;\n\n\n        .thing-list-item {\n            \n            border-radius: 12px;\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n            padding: 1rem;\n            margin: 2rem auto;\n            max-width: 40rem;\n            background-color: #222;\n\n\n            &:hover {\n                background: #408305;\n            }\n        }\n        .item-flagged {\n            background-color: lightpink;\n\n            &:hover {\n                background:lightcoral;\n            }\n        }\n    }\n</style>\n"]},"metadata":{},"sourceType":"module"}